<!--  Import della classe Charts.js (da spostare!!!) -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="~/Content/site/site.css" />

<h1 class="text-center">Risultati Analisi Page</h1>

<div class="container mt-4">
    <h2 class="text-center mb-4">Questo è solo un esempio</h2>

    <!-- Riga per il layout con 3 colonne -->
    <div class="row">
        <div class="col-md-6">
            <!-- Colonna per il grafico a barre/montagna (sinistra) -->
            <div class="h-100">
                <canvas id="graficoBarreMontagna"></canvas>
            </div>
        </div>

        <!-- Colonna per i due grafici a barre (destra) -->
        <div class="col-md-6">
            <!-- Grafico a barre con valori positivi -->
            <div class="mb-4">
                <canvas id="barChart1"></canvas>
            </div>
            <!-- Questo è il grafico con valori positivi e negativi -->
            <div>
                <canvas id="barChart2"></canvas>
            </div>
        </div>
    </div>

</div>

<!-- TABELLE DI TEST -->
<div class="container mt-5">
    <div class="row">
        <!-- TABELLE RIASSUNTIVE -->
        <div class="row mb-3">
                <!-- PRIMA TABELLA RIASSUNTIVA -->
                <div class="table-responsive">
                    <table class="table-striped table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Gennaio</th>
                                <th scope="col">Febbraio</th>
                                <th scope="col">Marzo</th>
                                <th scope="col">Aprile</th>
                                <th scope="col">Maggio</th>
                                <th scope="col">Giugno</th>
                                <th scope="col">Luglio</th>
                                <th scope="col">Agosto</th>
                                <th scope="col">Settembre</th>
                                <th scope="col">Ottobre</th>
                                <th scope="col">Novembre</th>
                                <th scope="col">Dicembre</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td scope="row">2020</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td scope="row">2021</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td scope="row">2022</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td scope="row">2023</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td scope="row">2024</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
        </div>

        <!-- RIGA PER LA SECONDA TABELLA RIASSUNTIVA -->
        <div class="row">
            <div class="table-responsive">
                <table class="table-striped table table-bordered table-hover">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Gennaio</th>
                            <th>Febbraio</th>
                            <th>Marzo</th>
                            <th>Aprile</th>
                            <th>Maggio</th>
                            <th>Giugno</th>
                            <th>Luglio</th>
                            <th>Agosto</th>
                            <th>Settembre</th>
                            <th>Ottobre</th>
                            <th>Novembre</th>
                            <th>Dicembre</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td>value</td>
                            <td>value</td>
                            <td>value</td>
                            <td>value</td>
                            <td>value</td>
                            <td>value</td>
                            <td>value</td>
                            <td>value</td>
                            <td>value</td>
                            <td>value</td>
                            <td>value</td>
                            <td>value</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    @* <div class="row" style="max-height: 400px; overflow-y: auto; overflow-x: auto;">
        <!-- Tabella a con tutti i dati  -->
        <div class="col-12 col-md-4">
            <div class="table-wrapper">
                <table class="table-striped table table-bordered table-primary table-hover">
                    <thead>
                        <tr>
                            <th scope="col">Data</th>
                            <th scope="col">Anno</th>
                            <th scope="col">Valore %</th>
                        </tr>
                    </thead>
                    <tbody>
                            <tr style="height: 40px">
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr><tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr><tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr><tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr><tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr><tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr><tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr><tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-12 col-md-8">
            <div class="table-wrapper">
                <div class="table-responsive">
                    <table class="table-striped table table-bordered table-primary table-hover">
                        <thead>
                            <tr>
                                <th scope="col">2024</th>
                                <th scope="col">1</th>
                                <th scope="col">2</th>
                                <th scope="col">3</th>
                                <th scope="col">4</th>
                                <th scope="col">5</th>
                                <th scope="col">6</th>
                                <th scope="col">7</th>
                                <th scope="col">8</th>
                                <th scope="col">9</th>
                                <th scope="col">10</th>
                                <th scope="col">11</th>
                                <th scope="col">12</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="height: 40px">
                                <td scope="row">Totali annuali</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr> <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr> <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr> <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr> <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr> <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr><tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr><tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr><tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr><tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div> *@
</div>






<!-- AREA DI SCRIPT -->
<script>
    //SCRIPT PER IL GRAFICO A BARRE
    // Grafico a Barre (destra)
    let delayed = false;

    // Primo grafico a barre (sinistra)
    const ctxAlessio = document.getElementById('graficoBarreMontagna').getContext('2d');
    const grafic0Barre = new Chart(ctxAlessio, {
        type: 'bar',
        data: {
            labels: ['01/2020', '03/2020', '05/2020', '07/2020', '09/2020', '11/2020',
                '01/2021', '03/2021', '05/2021', '07/2021', '09/2021', '11/2021',
                '01/2022', '03/2022', '05/2022', '07/2022', '09/2022', '11/2022',
                '01/2023', '03/2023', '05/2023', '07/2023', '09/2023', '11/2023',
                '01/2024', '03/2024', '05/2024', '07/2024', '09/2024', '11/2024'],
            datasets: [{
                label: 'Andamento Percentuale',
                data: [5, 8, 15, 25, 35, 50, 70, 90, 120, 150, 180, 210, 250, 300, 350,
                    1000, 1200, 1500, 2000, 2500, 3000, 3500, 4000, 4500, 5000, 6000, 7000, 8000, 8500, 9000],
                fill: true,
                backgroundColor: 'rgba(0, 123, 255, 0.7)', // Colore di riempimento
                borderColor: 'rgba(0, 123, 255, 1)', // Colore del bordo
                borderWidth: 1, // Non serve un bordo troppo marcato
            }]
        },
        options: {
            animation: {
                onComplete: () => {
                    delayed = true;
                },
                delay: (context) => {
                    let delay = 0;
                    if (context.type === 'data' && context.mode === 'default' && !delayed) {
                        delay = context.dataIndex * 100 + context.datasetIndex * 100;
                    }
                    return delay;
                },
            },
            responsive: true,
            maintainAspectRatio: false,
            aspectRatio: 0.3, // Ancora più schiacciato per ridurre l'altezza
            scales: {
                x: {
                    grid: {
                        display: true
                    },
                    ticks: {
                        autoSkip: false,  // Assicura che tutte le etichette siano mostrate
                    },
                },
                y: {
                    beginAtZero: true,
                    grid: {
                        display: true // Mantiene la griglia dell'asse Y per la leggibilità
                    }
                }
            },
            categoryPercentage: 1.0, // Riempie completamente la categoria (spazio tra le categorie nullo)
            barPercentage: 1.0, // Barra occupa tutta la categoria (spazio tra le barre nullo)
            plugins: {
                legend: {
                    display: true
                },
                tooltip: {
                    enabled: true // Mantiene i tooltip per esplorare i dati
                }
            }
        }
    });


    // Impostiamo l'altezza fissa per il canvas
    document.getElementById('graficoBarreMontagna').style.height = '200px'; // Impostato su 200px per occupare meno spazio

    // Secondo grafico a barre (destra)
    var ctxBar1 = document.getElementById('barChart1').getContext('2d');
    var barChart1 = new Chart(ctxBar1, {
        type: 'bar',
        data: {
            labels: Array(30).fill('x'), // 30 etichette "x"
            datasets: [{
                label: 'Test valori',
                data: [
                    5, 10, 12, 8, 6, 9, 7, 4, 3, 2, 6, 10, 8, 7, 5, 9, 4, 6, 11, 3,
                    5, 3, 4, 8, 6, 9, 2, 6, 4, 7 // 30 valori ridotti per non superare 15
                ],
                backgroundColor: 'rgba(13, 110, 253, 0.6)',
                borderColor: 'rgba(13, 110, 253, 1)',
                borderWidth: 1,
                maxBarThickness: 2 // Imposta uno spessore massimo molto basso per le barre
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false, // Impedisce di mantenere il rapporto di aspetto fisso
            aspectRatio: 0.3, // Ancora più schiacciato per ridurre l'altezza
            scales: {
                y: {
                    beginAtZero: true,  // L'asse Y inizia da zero
                    max: 15,  // Imposta il massimo per l'asse Y a 15
                    ticks: {
                        stepSize: 3,  // Imposta la distanza tra i tick
                        callback: function (value) {
                            return value;
                        }
                    }
                },
                x: {
                    // Aggiungi questa parte per aumentare lo spazio tra le barre
                    ticks: {
                        autoSkip: false // Disabilita l'auto salto dei tick (se necessario)
                    }
                }
            },
            // Regola la larghezza delle barre e lo spazio tra le categorie
            elements: {
                bar: {
                    barPercentage: 0.2, // Barra ancora più sottile
                    categoryPercentage: 1, // Mantiene lo spazio tra le categorie (barre)
                }
            },
        }
    });

    // Impostiamo l'altezza fissa per il canvas
    document.getElementById('barChart1').style.height = '200px'; // Impostato su 200px per occupare meno spazio

    // Terzo grafico a barre (destra)
    var ctxBar2 = document.getElementById('barChart2').getContext('2d');
    var barChart2 = new Chart(ctxBar2, {
        type: 'bar',
        data: {
            labels: Array(30).fill('x'), // 30 etichette "x"
            datasets: [{
                label: 'Test valori pos e neg',
                data: [
                    5, -10, 12, -15, 10, -7, 5, -6, 3, -4, 9, -5, 8, -8, 6, -6, 7, -5, 5, -4,
                    4, -3, 2, -5, 9, -2, 3, -1, 7, -6 // 30 valori modificati per non superare 15
                ],
                backgroundColor: function (context) {
                    var value = context.dataset.data[context.dataIndex];
                    return value < 0 ? 'rgba(220, 53, 69, 0.6)' : 'rgba(13, 110, 253, 0.6)';
                },
                borderColor: function (context) {
                    var value = context.dataset.data[context.dataIndex];
                    return value < 0 ? 'rgba(220, 53, 69, 1)' : 'rgba(13, 110, 253, 1)';
                },
                borderWidth: 1,
                maxBarThickness: 2 // Imposta uno spessore massimo per le barre
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,  // Permette di adattare il grafico alle dimensioni del contenitore
            aspectRatio: 0.3, // Ancora più schiacciato per ridurre l'altezza
            scales: {
                y: {
                    beginAtZero: false,  // L'asse Y non inizia necessariamente da zero
                    min: -15,  // Imposta un minimo per l'asse Y per visualizzare i valori negativi
                    max: 15,   // Imposta un massimo per l'asse Y per evitare che il grafico esca dai limiti
                    ticks: {
                        stepSize: 5,  // Imposta la distanza tra i tick
                        callback: function (value) {
                            if (value === 0) {
                                return '0';
                            }
                            return value > 0 ? '+' + value : value;
                        }
                    }
                }
            },
            elements: {
                bar: {
                    barPercentage: 0.2, // Barra ancora più sottile
                    categoryPercentage: 1, // Mantiene lo spazio tra le categorie (barre)
                }
            }
        }
    });

    // Impostiamo l'altezza fissa per il canvas
    document.getElementById('barChart2').style.height = '200px'; // Impostato su 200px per occupare meno spazio

    // AREA BORDI DELLA TABELLA
    // var barCanvas2 = document.getElementById('barChart2');
    // barCanvas2.style.border = '2px solid #343a40';
    // barCanvas2.style.borderRadius = '8px';
</script>